name: weather
version: 1.0.0
description: "Weather service with current conditions, forecasts, and alerts"
author: "ZephyrGate Team"
author_email: "team@zephyrgate.example.com"
license: "MIT"
homepage: "https://github.com/zephyrgate/zephyrgate"

# ZephyrGate compatibility
zephyrgate:
  min_version: "1.0.0"
  max_version: "2.0.0"

# Dependencies
dependencies:
  plugins: []
  python_packages:
    - aiohttp>=3.8.0
    - requests>=2.28.0

# Plugin capabilities
capabilities:
  commands:
    - name: wx
      description: "Get current weather conditions"
      usage: "wx [location]"
    - name: weather
      description: "Get detailed weather information"
      usage: "weather [location]"
    - name: forecast
      description: "Get weather forecast"
      usage: "forecast [days] [location]"
    - name: alerts
      description: "Get active weather alerts"
      usage: "alerts [location]"
    - name: gc_forecast
      description: "Get compact weather forecast (GC format) - compatible with Meshtastic"
      usage: "gc_forecast [hours] [day] [--entry-sep SEP] [--field-sep SEP] [--fields FIELDS] [--preamble TEXT] [--units imperial|metric]"
  message_handlers:
    - description: "Weather message routing"
  scheduled_tasks: []

# Configuration
config:
  defaults:
    enabled: true
    providers:
      noaa:
        enabled: true
        api_key: ""
      openmeteo:
        enabled: true
    cache:
      ttl_seconds: 600
      max_entries: 1000
    alerts:
      enabled: true
      check_interval: 300
    location:
      default_latitude: 0.0
      default_longitude: 0.0

# Permissions required
permissions:
  - send_messages
  - receive_messages
  - http_requests
  - storage_access
